

{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1>Cisco機器設定取得ツール</h1>
    <p>複数台のCisco機器に対してshowコマンドを取得しに行くツールです。</p>
    
    <!-- Config Manager 統合情報 -->
    {% if config_summary %}
    <div class="row mt-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h3>設定サマリー (Config Manager統合)</h3>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <h5>デバイス</h5>
                            <p class="fs-2 text-primary">{{ config_summary.device_count }} 台</p>
                            <small class="text-muted">登録済みデバイス数</small>
                        </div>
                        <div class="col-md-4">
                            <h5>コマンドグループ</h5>
                            <p class="fs-2 text-success">{{ config_summary.command_group_count }} 件</p>
                            <small class="text-muted">登録済みコマンドグループ数</small>
                        </div>
                        <div class="col-md-4">
                            <h5>シナリオ</h5>
                            <p class="fs-2 text-info">{{ config_summary.scenario_count }} 件</p>
                            <small class="text-muted">登録済みシナリオ数</small>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-12">
                            <small class="text-muted">
                                最終更新時刻: {{ config_summary.last_updated }}
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
    
    <!-- バリデーション結果 -->
    {% if validation_results %}
    <div class="row mt-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h3>設定バリデーション結果</h3>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <h5>デバイス設定</h5>
                            {% if validation_results.devices %}
                            <span class="badge bg-success">正常</span>
                            {% else %}
                            <span class="badge bg-danger">エラー</span>
                            {% endif %}
                        </div>
                        <div class="col-md-4">
                            <h5>コマンドグループ設定</h5>
                            {% if validation_results.command_groups %}
                            <span class="badge bg-success">正常</span>
                            {% else %}
                            <span class="badge bg-danger">エラー</span>
                            {% endif %}
                        </div>
                        <div class="col-md-4">
                            <h5>シナリオ設定</h5>
                            {% if validation_results.scenarios %}
                            <span class="badge bg-success">正常</span>
                            {% else %}
                            <span class="badge bg-danger">エラー</span>
                            {% endif %}
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12">
                            <a href="{{ url_for('config_validation') }}" class="btn btn-info">詳細なバリデーション結果</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
    
    <div class="row">
        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h3>デバイス管理</h3>
                </div>
                <div class="card-body">
                    <p>デバイスの追加、編集、削除を行います。</p>
                    <a href="{{ url_for('devices') }}" class="btn btn-primary">デバイス管理</a>
                </div>
            </div>
        </div>
        
        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h3>コマンドグループ管理</h3>
                </div>
                <div class="card-body">
                    <p>コマンドグループの追加、編集、削除を行います。</p>
                    <a href="{{ url_for('command_groups') }}" class="btn btn-primary">コマンドグループ管理</a>
                </div>
            </div>
        </div>
        
        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h3>シナリオ管理</h3>
                </div>
                <div class="card-body">
                    <p>シナリオの追加、編集、削除を行います。</p>
                    <a href="{{ url_for('scenarios') }}" class="btn btn-primary">シナリオ管理</a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-4">
        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h3>実行管理</h3>
                </div>
                <div class="card-body">
                    <p>シナリオの実行を行います。</p>
                    <a href="{{ url_for('execute') }}" class="btn btn-primary">実行管理</a>
                </div>
            </div>
        </div>
        
        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h3>シナリオリスト管理</h3>
                </div>
                <div class="card-body">
                    <p>シナリオリストの管理を行います。</p>
                    <a href="{{ url_for('scenario_lists') }}" class="btn btn-primary">シナリオリスト管理</a>
                </div>
            </div>
        </div>
        
        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h3>設定バリデーション</h3>
                </div>
                <div class="card-body">
                    <p>設定ファイルのバリデーションを行います。</p>
                    <a href="{{ url_for('config_validation') }}" class="btn btn-primary">設定バリデーション</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

